<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RAJS</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        html, body {
            height: 100%;
            overflow: hidden;
            background: #0a0a0a;
            font-family: 'Brush Script MT', cursive, 'Georgia', serif;
            position: fixed;
            width: 100%;
        }

        .heart-section {
            transition: opacity 1s ease-out, transform 1s ease-out;
            height: 100vh;
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: absolute;
            top: 0;
            left: 0;
        }

        .heart-section.fade-out {
            opacity: 0;
            transform: scale(0.8);
            pointer-events: none;
        }

        .heart-container {
            position: relative;
            width: 280px;
            height: 280px;
            cursor: pointer;
            touch-action: manipulation;
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0%, 100% {
                transform: scale(1);
            }
            25% {
                transform: scale(1.1);
            }
            50% {
                transform: scale(1);
            }
        }

        .heart-container:active {
            animation: none;
            transform: scale(0.95);
        }

        .emoji-point {
            position: absolute;
            font-size: 14px;
            opacity: 0;
            animation: appear 0.5s ease-out forwards;
            filter: drop-shadow(0 0 10px rgba(255, 0, 0, 0.8));
        }

        @keyframes appear {
            to {
                opacity: 1;
                transform: scale(1.1);
            }
        }

        .heart-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 250px;
            height: 250px;
            background: radial-gradient(circle, rgba(255, 0, 0, 0.3) 0%, transparent 70%);
            animation: pulse 2s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes pulse {
            0%, 100% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.5;
            }
            50% {
                transform: translate(-50%, -50%) scale(1.2);
                opacity: 0.8;
            }
        }

        .instruction {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ff0000;
            text-align: center;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            font-size: 20px;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(255, 0, 0, 0.8),
                         0 0 20px rgba(255, 0, 0, 0.6);
            z-index: 10;
            pointer-events: none;
        }

        .letter-section {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            opacity: 0;
            transition: opacity 1s ease-in;
            overflow-y: auto;
            padding: 15px;
            background: #0a0a0a;
        }

        .letter-section.show {
            display: flex;
            opacity: 1;
            justify-content: center;
            align-items: flex-start;
            padding-top: 60px;
        }

        .letter-container {
            max-width: 100%;
            width: 100%;
            background-image: 
                linear-gradient(to bottom, 
                    rgba(139, 90, 43, 0.9) 0%,
                    rgba(194, 147, 89, 0.95) 10%,
                    rgba(222, 184, 135, 0.98) 50%,
                    rgba(194, 147, 89, 0.95) 90%,
                    rgba(139, 90, 43, 0.9) 100%);
            padding: 30px 20px;
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.8),
                inset 0 0 40px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(101, 67, 33, 0.5);
            position: relative;
            animation: unfold 1.5s ease-out;
            border-radius: 5px;
        }

        @keyframes unfold {
            0% {
                transform: scale(0.5) rotateX(90deg);
                opacity: 0;
            }
            100% {
                transform: scale(1) rotateX(0deg);
                opacity: 1;
            }
        }

        .letter-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 2px,
                    rgba(0, 0, 0, 0.02) 2px,
                    rgba(0, 0, 0, 0.02) 3px
                );
            pointer-events: none;
            border-radius: 5px;
        }

        .letter-container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 30%, rgba(139, 69, 19, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(160, 82, 45, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(101, 67, 33, 0.1) 0%, transparent 40%);
            pointer-events: none;
            border-radius: 5px;
        }

        .letter-header {
            font-size: 1.5em;
            font-weight: normal;
            margin-bottom: 25px;
            color: #2c1810;
            font-style: italic;
            text-align: center;
        }

        .letter-content {
            font-size: 0.95em;
            line-height: 1.6;
            color: #1a0f08;
            text-align: justify;
            font-style: italic;
            letter-spacing: 0.3px;
        }

        .letter-content p {
            margin-bottom: 20px;
            text-indent: 20px;
        }

        .back-button {
            position: fixed;
            top: 15px;
            left: 15px;
            background: rgba(139, 90, 43, 0.9);
            color: #f5e6d3;
            border: 2px solid rgba(101, 67, 33, 0.7);
            padding: 10px 15px;
            font-size: 0.9em;
            cursor: pointer;
            border-radius: 5px;
            font-family: 'Georgia', serif;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            z-index: 100;
            touch-action: manipulation;
        }

        .back-button:active {
            background: rgba(101, 67, 33, 0.9);
            transform: translateY(1px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.7);
        }

        /* Adaptation pour les très petits écrans */
        @media (max-width: 360px) {
            .heart-container {
                width: 240px;
                height: 240px;
            }
            
            .instruction {
                font-size: 18px;
            }
            
            .heart-glow {
                width: 200px;
                height: 200px;
            }
            
            .letter-container {
                padding: 20px 15px;
            }
            
            .letter-content {
                font-size: 0.85em;
                line-height: 1.5;
            }
            
            .letter-header {
                font-size: 1.3em;
            }
        }

        /* Adaptation pour les écrans plus grands */
        @media (min-width: 768px) {
            .heart-container {
                width: 350px;
                height: 350px;
            }
            
            .instruction {
                font-size: 24px;
            }
            
            .heart-glow {
                width: 300px;
                height: 300px;
            }
            
            .emoji-point {
                font-size: 16px;
            }
            
            .letter-container {
                max-width: 600px;
                padding: 40px 30px;
            }
            
            .letter-content {
                font-size: 1.1em;
                line-height: 1.8;
            }
            
            .letter-header {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="heart-section" id="heartSection">
        <div class="heart-glow"></div>
        <div class="heart-container" id="heartContainer">
            <div class="instruction">Touche Moi !</div>
        </div>
    </div>

    <div class="letter-section" id="letterSection">
        <button class="back-button" id="backButton">← Retour</button>
        <div class="letter-container">
            <div class="letter-header">Cher Jean,</div>
            <div class="letter-content">
                <p>En  cette  journée  spéciale ,je souhaiterai  te faire part  de  ces  quelques mots pour que tu saches à  quel  point tu  es  une  personne  merveilleux</p>
                <p>22 ans  d'existences  , le jeune garçon que tu  étais auparavant est maintenant devenu  un  homme : fort ,courageux , chalereux , et pleine d'ambician .</p>
                <p>Cela ne fait que 3  ans et  demi  que j'ai  appris à  te connaitre et à t'aimer  et je vois que  tu  as grandi, Sito  Sergio est à  présent Petit Jean ,  petit mais avec un  grand âme.</p>
                <p>Le petit vilain  garçon que tu étais est  à  ce  jour un gentlmen , qui est prêt à  tout pour reusir !</p>                
                <p> Pas à  pas ,tu  as montrer  que tu vaux mieux que les gens  pensaient de  toi .</p>
                <p> Aujourd'hui  ,  je veux que tu realises et que tu saches que je suis sincerement fière de la personne que tu es à présents . Et je sais que tu deviendras encore plus fort et que tes projets se réalise</p> 
                <p>Ta dulcinée sera toujours là pour toi , peut-être  pas presentielle , mais dans  ton coeur et ton esprit  .  Comme le disait un homme autre fois :  "Hanaraka anao toy ny aloko " , "Izay  ratranao de feriko ,takaitranao no aretiko ,  n'inona inona hanjo,izay lalanao no hizorako ,  antsana io na tevina tsy ampiova na ampihemmotra , fontsika mifangia" , "Ny halavirana sy ny taona , tsy hahasakana antsikia tsy hihaona"</p>
                <p>Je n'ai pas eu  l'occasion de rencontrer des  grands parents , mais je sais une choses c'est qu'ils sont fières de  la personne que  tu es  maintenant . Pas toujours correcte ni parfait , mais n'arrete pas de  surprende les  gens.</p>
                
                <p>Joyeux anniversaire mon amour, que cette année t'apporte tout le bonheur que tu mérites.</p>
            </div>
        </div>
    </div>

    <script>
        const container = document.getElementById('heartContainer');
        const heartSection = document.getElementById('heartSection');
        const letterSection = document.getElementById('letterSection');
        const backButton = document.getElementById('backButton');
        const width = 280;
        const height = 280;
        const centerX = width / 2;
        const centerY = height / 2;
        let animationInterval;

        function createHeartPoints() {
            const points = [];
            const scale = 10;
            const numPoints = 120;

            for (let i = 0; i < numPoints; i++) {
                const t = (i / numPoints) * Math.PI * 2;
                const x = scale * (16 * Math.pow(Math.sin(t), 3));
                const y = -scale * (13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
                
                points.push({
                    x: centerX + x,
                    y: centerY + y,
                    delay: i * 15
                });
            }
            return points;
        }

        function drawHeart() {
            const instruction = container.querySelector('.instruction');
            container.innerHTML = '';
            if (instruction) {
                container.appendChild(instruction);
            }
            
            const points = createHeartPoints();
            
            points.forEach((point, index) => {
                setTimeout(() => {
                    const emoji = document.createElement('div');
                    emoji.className = 'emoji-point';
                    emoji.textContent = '⚖️';
                    emoji.style.left = point.x + 'px';
                    emoji.style.top = point.y + 'px';
                    emoji.style.animationDelay = '0s';
                    container.appendChild(emoji);
                }, point.delay);
            });
        }

        function showLetter() {
            heartSection.classList.add('fade-out');
            setTimeout(() => {
                heartSection.style.display = 'none';
                letterSection.classList.add('show');
                clearInterval(animationInterval);
            }, 1000);
        }

        function showHeart() {
            letterSection.classList.remove('show');
            setTimeout(() => {
                letterSection.style.display = 'none';
                heartSection.style.display = 'flex';
                heartSection.classList.remove('fade-out');
                drawHeart();
                animationInterval = setInterval(() => {
                    drawHeart();
                }, 4000);
            }, 500);
        }

        // Gestion des événements tactiles
        container.addEventListener('click', showLetter);
        container.addEventListener('touchstart', function(e) {
            e.preventDefault();
            showLetter();
        }, {passive: false});
        
        backButton.addEventListener('click', showHeart);
        backButton.addEventListener('touchstart', function(e) {
            e.preventDefault();
            showHeart();
        }, {passive: false});

        // Prévenir le zoom sur double-tap
        document.addEventListener('gesturestart', function(e) {
            e.preventDefault();
        });
        
        document.addEventListener('gesturechange', function(e) {
            e.preventDefault();
        });
        
        document.addEventListener('gestureend', function(e) {
            e.preventDefault();
        });

        // Initialisation
        drawHeart();
        animationInterval = setInterval(() => {
            drawHeart();
        }, 4000);
    </script>
</body>
</html>